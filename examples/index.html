<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
</head>

<body>
<script src="../dist/Router.js"></script>
<script>
const routes = [
  {
    layout: {
      default: {
        component: 'layouts/Default', props: route => ({ activeTab: route.meta.type }), children: {
          sideLeft: { component: 'layouts/SideLeft' },

          default: [
            { path: '/', component: 'Index', meta: { type: 'home' } },
            { path: '/articles/:id', component: 'ArticleDetail', meta: route => ({ type: 'article', id: route.params.id }), props: route => ({ id: route.params.id }) }
          ],

          sideRight: { component: 'layouts/SideRight', children: {
            panelOne: { component: 'layouts/NewsPanel', props: route => ({ category: route.params.type || route.meta.type || 'default' }) },
            panelTwo: { component: 'layouts/Ads' }
          } }
        }
      }
    }
  },

  {
    layout: {
      default: {
        component: 'layouts/Simple', children: [
          { path: '/500', component: '500' },
          { path: '/404', component: '404' },
          { path: '*', component: '404' }
        ]
      }
    }
  },

  { path: '/activity', component: 'activity' }
]

const router = new Router({
  routes,
  resolveComponent: component => import('./views/' + component + '.vue')
})
</script>
</body>
</html>
